language: python
# Compiler is irrelevant, we'll be using one
# that Travis doesn't provide by default.
python: 
 - "2.7"
before_install:
 - export ARTIFACTS=$(pwd)
 - cd ../
 - export ARM_EABI=$(pwd)
 - sudo apt-get update
 - sudo apt-get install -qq --force-yes libgd2-xpm ia32-libs ia32-libs-multiarch
install:
 - cd $ARM_EABI
 - sudo add-apt-repository ppa:terry.guo/gcc-arm-embedded --yes
 - sudo apt-get update
 - sudo apt-get install gcc-arm-none-eabi
 - sudo apt-get install libjpeg-dev zlib1g-dev
 - pip install PIL --allow-external PIL --allow-unverified PIL
 - sudo ln -s /usr/lib/x86_64-linux-gnu/libjpeg.so /usr/lib
 - sudo ln -s /usr/lib/x86_64-linux-gnu/libz.so /usr/lib
 - sudo cp /usr/lib/*/libz.so $VIRTUAL_ENV/lib
 - cd $ARTIFACTS
script: make